#+TITLE: Otavio Salvador's Nix Configuration

* Table of Contents
:PROPERTIES:
:TOC:      :include all :ignore (this)
:END:
:CONTENTS:
- [[#installation-inside-an-existing-linux-system][Installation inside an existing Linux system]]
:END:
  :CUSTOM_ID: configuration-repository
  :END:

* Installation inside an existing Linux system

For Debian-based systems we need to have =curl=, =rsync=, =zsh=, =xz-utils= and =git-core=
before proceeding. Use:

#+begin_src sh
  sudo apt install -y curl rsync zsh xz-utils git-core
#+end_src

The user must use =zsh= as shell so do it using:

#+begin_src sh
  sudo usermod -s /bin/zsh otavio
#+end_src

Install the daemon inside the existing operating system with:

#+begin_src sh
  curl -L https://nixos.org/nix/install | sh -s -- --daemon

  # Enable Nix Flakes support
  mkdir -p ~/.config/nix
  echo 'experimental-features = nix-command flakes' > ~/.config/nix/nix.conf
#+end_src

Finally, clone this repository as:

#+begin_src sh
  mkdir -p ~/src
  git clone https://github.com/otavio/nix-config.git ~/src/nix-config
#+end_src

Add the required channels to the environment, using:

#+begin_src sh
  home-manager switch --flake .#otavio
#+end_src
